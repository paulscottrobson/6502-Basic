; ************************************************************************************************
; ************************************************************************************************
;
;		Name:		x16io.asm
;		Purpose:	Input/Output x16
;		Created:	28th February 2021
;		Author:		Paul Robson (paul@robsons.org.uk)
;
; ************************************************************************************************
; ************************************************************************************************

		.section code	

; ************************************************************************************************
;
;											Initialise
;
; ************************************************************************************************

IOInitialise: ;; <initialise>
		lda 	#15
		jsr 	IOPrintChar
		rts
		
; ************************************************************************************************
;
;											Print CR/LF
;
; ************************************************************************************************

IONewLine: ;; <crlf>
		pha
		lda 	#13
		jsr 	IOPrintChar
		pla
		rts

; ************************************************************************************************
;
;											Print Tab
;
; ************************************************************************************************

IOTab: ;; <tab>
		pha
		lda 	#32
		jsr 	IOPrintChar
		pla
		rts

; ************************************************************************************************
;
;											Print A
;
; ************************************************************************************************

IOPrintChar: ;; <print>
		tax
		phy
		txa
		jsr 	$FFD2
		ply
		rts

; ************************************************************************************************
;
;				Check key is pressed/in kbd buffer, returns key if so 0 otherwise
;											(INKEY)
;
; ************************************************************************************************

IOInkey: ;; <inkey>
		.pshy
		jsr 	$FFE4
		sta 	tempShort
		.puly
		lda 	tempShort
		rts

		.send 	code
